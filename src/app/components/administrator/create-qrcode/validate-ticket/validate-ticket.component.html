<div>
  <div *ngIf="userIsLogged; then CheckRole else Login"></div>
  <ng-template #CheckRole>
    <div>
        <div *ngIf="userCanAccess; then Permit else Deny"></div>
        <ng-template #Permit>
            <mdb-card class="form-customer">
                <div class=" nav-tabs tabs-3" style="background-color:black;color:aliceblue"(click)="captureScreen()">
                    <h3 class="modal-title w-100  text-center" id="Event"> Serial: {{ticket.ticketId}}  </h3>
                </div>
                <div class="shop-card" id="contentToConvert">
                  <div class="title">
                    <Strong> {{priceTicket.nameSiteInEvent}} </Strong>
                  </div><br>
                  <div class="code">
                      <img class="rounded-circle" src={{event.imageUrl}} alt="">
                  </div>
                  <div class="cta">
                    <div class="price">
                      <i class="fa fa-user"></i> {{ticket.customerName}} <br>
                      <i class="fa fa-calendar-check-o"></i> {{event.name}}
                    </div>
                    <button type="button" class="btn {{ticket.state ? 'btn-blue' : 'btn'}}" (click)="changeState()" 
                            data-toggle="tooltip" data-placement="top" title="{{ticket.state ? 'Disable This Ticket' : 'Ticket Disabled'}}"
                            >{{ticket.state ? 'DISABLE TICKET' : 'DISABLED'}}<span class="bg"></span></button>
                </div> 
                </div>
            </mdb-card>
        </ng-template>
        <ng-template #Deny>
            <app-denied-page></app-denied-page>
        </ng-template>
    </div>
  </ng-template>
  <ng-template #Login>
      <app-login redirectTo="/customer/{{ticketId}}" (redirectToFunc)="ngOnInit()"></app-login>
  </ng-template>
</div>
<app-dialog></app-dialog>